<!-- Sidebar -->
<aside>
    {% if haswidgets('aside_top') %}
        {{ widgets('aside_top') }}
    {% endif %}

    {# The next section iterates over all of the contenttypes, and prints a list
       of the five latest records of each of them. The 'magic' happens in the
       setcontent tag.. ct.slug ~ "/latest/3" concatenates the slug of the
       contenttype with /latest/3, so it becomes something like "pages/latest/3".
       The 'else' in the inner for-loop is only used if there are no 'records',
       so we can use it to print a helpful message.
       Lastly, "path('contentlisting', {'contenttypeslug': ct.slug})" will output something like '/pages',
       effectively creating a working link to that contenttpye's listing page. #}
    {%- for ct in app.config.get('contenttypes') if not ct.viewless|default(false) -%}
    {%- setcontent records = ct.slug ~ "/latest/3" -%}
    <h5>{{ __('contenttypes.generic.recent', {'%contenttypes%': ct.slug}) }}</h5>
    <ul>{% for record in records %}
        <li><a href="{{ record.link }}">{{ record.title }}</a></li>
    {% else -%}
        <li>{{ __('contenttypes.generic.no-recent', {'%contenttype%': ct.slug}) }}</li>
    {% endfor %}</ul>
    <p><a href="{{ path('contentlisting', {'contenttypeslug': ct.slug}) }}">{{ __('contenttypes.generic.overview',{'%contenttypes%': ct.slug}) }} &raquo;</a></p>
    {%- endfor -%}

    {% if haswidgets('aside_bottom') %}
        {{ widgets('aside_bottom') }}
    {% endif %}
</aside>
<!-- End Sidebar -->
